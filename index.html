<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#e74c3c" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <title>PomodoHabit: Pomodoro Timer + Habit Tracker</title>
  <link rel="stylesheet" href="pomodohabit-css.css">
  <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" sizes="192x192" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMB/ak+0ukAAAAASUVORK5CYII=">
    <link rel="apple-touch-icon" sizes="192x192" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMB/ak+0ukAAAAASUVORK5CYII=">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-xxxxxxxxxxxxxxxx" crossorigin="anonymous"></script>
</head>
<body>
  <div id="app">
    <header>
      <h1>PomodoHabit</h1>
      <p>Pomodoro Timer + Habit Tracker</p>
      
      <!-- Tab Navigation -->
      <div class="tab-navigation">
        <button class="tab-btn active" data-tab="timer">Timer</button>
        <button class="tab-btn" data-tab="habits">Habits</button>
        <button class="tab-btn" data-tab="achievements">Achievements</button>
      </div>
    </header>

    <div id="ad-container" class="ad-container">
      <!-- Replace data-ad-client and data-ad-slot with your own AdSense IDs -->
      <ins class="adsbygoogle"
           style="display:block"
           data-ad-client="ca-pub-xxxxxxxxxxxxxxxx"
           data-ad-slot="1234567890"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>

    <main>
      <!-- Timer Section -->
      <section id="timer-section" class="tab-content active">
        <h2>Pomodoro Timer</h2>
        
        <div class="timer-container">
          <div class="session-type" id="session-type">Work Session</div>
          <div id="timer-display">25:00</div>
          
          <div class="timer-controls">
            <button id="start-btn">Start</button>
            <button id="pause-btn">Pause</button>
            <button id="reset-btn">Reset</button>
          </div>
        </div>
        
        <div class="settings-divider">
          <span>Timer Settings</span>
        </div>
        
        <div class="customize-timer">
          <label>
            Work Duration (min):
            <input type="number" id="work-duration" value="25" min="1" />
          </label>
          <label>
            Break Duration (min):
            <input type="number" id="break-duration" value="5" min="1" />
          </label>
          <button id="set-timer-btn">Apply Settings</button>
        </div>
        
        <!-- Track with Timer (moved from habit section for better integration) -->
        <div class="track-with-timer">
          <h3>Track Habit with Timer</h3>
          <div class="habit-selection">
            <select id="habit-select">
              <option value="">-- Select Habit --</option>
            </select>
            <p class="helper-text">When a work session completes, this habit will be logged automatically</p>
          </div>
        </div>
      </section>

      <!-- Habit Tracker Section -->
      <section id="habit-section" class="tab-content">
        <h2>Habit Tracker</h2>
        
        <div class="habit-actions-container">
          <form id="habit-form">
            <input type="text" id="habit-input" placeholder="Enter habit (e.g., Exercise)" required />
            <button type="submit">Add Habit</button>
          </form>
        </div>
        
        <div class="habits-container">
          <h3>Your Habits</h3>
          <div class="habits-grid" id="habit-list">
            <!-- Habit items will be dynamically inserted here as cards -->
          </div>
        </div>
      </section>

      <!-- Gamification / Achievements Section -->
      <section id="gamification-section" class="tab-content">
        <h2>Achievements & Rewards</h2>
        
        <div class="stats-container">
          <div id="points">Points: 0</div>
          <div id="level">Level: 1</div>
          <div class="progress-container">
            <div id="progress-bar" class="progress-bar"></div>
          </div>
        </div>
        
        <div class="achievements-container">
          <h3>Recent Achievements <span id="achievements-count">(0)</span></h3>
          <ul id="achievements-list" class="achievements-list collapsed">
            <!-- Achievements will be dynamically inserted here -->
          </ul>
          <button id="view-more-btn" class="view-more-btn">View More</button>
        </div>
      </section>
    </main>

    <!-- Modal for editing habits -->
    <div id="edit-modal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h3>Edit Habit</h3>
        <form id="edit-habit-form">
          <input type="hidden" id="edit-habit-index">
          <div class="form-group">
            <label for="edit-habit-name">Habit Name:</label>
            <input type="text" id="edit-habit-name" required>
          </div>
          <div class="form-buttons">
            <button type="submit" class="save-btn">Save Changes</button>
            <button type="button" id="delete-habit-btn" class="delete-btn">Delete Habit</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Confetti canvas for celebrations -->
    <canvas id="confetti-canvas"></canvas>
    
    <!-- Footer with copyright -->
    <footer class="app-footer">
      <p>&copy; 2025 PomodoHabit | Created by Saher M.</p>
    </footer>
  </div>

  <!-- Link to external JavaScript files -->
  <script src="pomodohabit-init.js"></script>
  <script src="pomodohabit-timer.js"></script>
  <script src="pomodohabit-habits.js"></script>
  <script src="pomodohabit-gamification.js"></script>
  <script src="pomodohabit-app.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./service-worker.js');
      });
    }
  </script>
</body>
</html>
